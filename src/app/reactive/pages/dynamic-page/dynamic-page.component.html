<h2 class="text-2xl font-bold">Reactivos: <small class="text-base font-light">Dinámicos</small></h2>
<hr class="my-4">

<form [formGroup]="dynamicForm" (ngSubmit)="onSubmit()" autocomplete="off">

    <!-- Nombre -->
    <div class="mb-3 flex flex-wrap items-center">
        <label class="w-full sm:w-1/4 lg:w-1/5 font-medium">Nombre</label>
        <div class="w-full sm:w-3/4 lg:w-4/5">
            <input class="form-input block w-full border rounded-md p-2"
                   formControlName="name"
                   placeholder="Nombre de la persona">
            <span *ngIf="isValidField('name')"  class="text-sm text-red-500">
                {{ getFieldError('name')  }}
            </span>
        </div>
    </div>

    <!-- Agregar Favorito -->
    <div class="mb-3 flex flex-wrap items-center">
        <label class="w-full sm:w-1/4 lg:w-1/5 font-medium">Agregar</label>
        <div class="w-full sm:w-3/4 lg:w-4/5">
            <div class="flex">
                <input class="form-input flex-grow border rounded-l-md p-2"
                       placeholder="Agregar favorito">
                <button class="btn bg-blue-500 text-white px-4 py-2 rounded-r-md hover:bg-blue-600"
                        type="button">
                    Agregar favorito
                </button>
            </div>
        </div>
    </div>

    <!-- Lista de Juegos Favoritos -->
    <div class="mb-3 flex flex-wrap items-center">
        <label class="w-full sm:w-1/4 lg:w-1/5 font-medium">Favoritos</label>

        <div class="w-full sm:w-3/4 lg:w-4/5" formArrayName="favoriteGames">

          <div class="mb-1"

               *ngFor="let favorite of favoriteGames.controls; let i = index"
          >
          <!-- Una vez tenemos el arreglo de elementos podemos empezar a
               mostrar las iteraciones de este -->
                <div class="flex">
                  <!-- Muestra cada una de la posiciones index donde ha estdo -->
                    <input [formControlName]="i"
                    placeholder=""
                    class="form-input flex-grow border rounded-l-md p-2">
                    <button (click)="onDeleteField( i )" class="btn bg-red-500 text-white px-4 py-2 rounded-r-md hover:bg-red-600"
                            type="button">
                        Eliminar
                    </button>
                </div>
                <span *ngIf="isValidFieldInArray( favoriteGames, i)" class="text-sm text-red-500">
                    Este campo es requerido
                </span>
            </div>
        </div>
    </div>

    <!-- Botón Guardar -->
    <div class="flex justify-end mt-4">
        <button (click)="onSubmit()"
        type="submit"
                class="bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600"
                >
            Guardar
        </button>
    </div>

</form>

<!-- Información del Formulario -->
<div class="mt-6">
    <span class="font-semibold">Valid</span>
    <pre class="bg-gray-100 p-2 rounded">{{ 'object' | json }}</pre>

    <br>

    <span class="font-semibold">Value</span>
    <pre class="bg-gray-100 p-2 rounded">{{ 'object' | json }}</pre>

    <br>

    <span class="font-semibold">Agregar Juego</span>
    <pre class="bg-gray-100 p-2 rounded">{{ 'object' | json }}</pre>
    <pre class="bg-gray-100 p-2 rounded">{{ 'object' | json }}</pre>
</div>
<h2 class="text-2xl font-bold">Reactivos: <small class="text-base font-light">Dinámicos</small></h2>
<hr class="my-4">

<form autocomplete="off">

    <!-- Nombre -->
    <div class="mb-3 flex flex-wrap items-center">
        <label class="w-full sm:w-1/4 lg:w-1/5 font-medium">Nombre</label>
        <div class="w-full sm:w-3/4 lg:w-4/5">
            <input class="form-input block w-full border rounded-md p-2"
                   placeholder="Nombre de la persona">
            <span class="text-sm text-red-500">
                error message
            </span>
        </div>
    </div>

    <!-- Agregar Favorito -->
    <div class="mb-3 flex flex-wrap items-center">
        <label class="w-full sm:w-1/4 lg:w-1/5 font-medium">Agregar</label>
        <div class="w-full sm:w-3/4 lg:w-4/5">
            <div class="flex">
                <input class="form-input flex-grow border rounded-l-md p-2"
                       placeholder="Agregar favorito">
                <button class="btn bg-blue-500 text-white px-4 py-2 rounded-r-md hover:bg-blue-600"
                        type="button">
                    Agregar favorito
                </button>
            </div>
        </div>
    </div>

    <!-- Lista de Juegos Favoritos -->
    <div class="mb-3 flex flex-wrap items-center">
        <label class="w-full sm:w-1/4 lg:w-1/5 font-medium">Favoritos</label>
        <div class="w-full sm:w-3/4 lg:w-4/5">
            <div class="mb-1">
                <div class="flex">
                    <input class="form-input flex-grow border rounded-l-md p-2">
                    <button class="btn bg-red-500 text-white px-4 py-2 rounded-r-md hover:bg-red-600"
                            type="button">
                        Eliminar
                    </button>
                </div>
                <span class="text-sm text-red-500">
                    Este campo es requerido
                </span>
            </div>
        </div>
    </div>

    <!-- Botón Guardar -->
    <div class="flex justify-end mt-4">
        <button type="submit"
                class="bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600"
                >
            Guardar
        </button>
    </div>

</form>

<!-- Información del Formulario -->
<div class="mt-6">
    <span class="font-semibold">Valid</span>
    <pre class="bg-gray-100 p-2 rounded">{{ 'object' | json }}</pre>

    <br>

    <span class="font-semibold">Value</span>
    <pre class="bg-gray-100 p-2 rounded">{{ 'object' | json }}</pre>

    <br>

    <span class="font-semibold">Agregar Juego</span>
    <pre class="bg-gray-100 p-2 rounded">{{ 'object' | json }}</pre>
    <pre class="bg-gray-100 p-2 rounded">{{ 'object' | json }}</pre>
</div>
